---
tags:
  - Log
created: 2025-04-08 22:11
modified: 2025-04-08 22:11
---
## 2025-04-08 å¼€å‘æ—¥å¿—

### ğŸ¯ ä»Šæ—¥ç›®æ ‡
- [x] æ­å»ºè¯¾é¢˜ç®¡ç†æ¨¡å—åŸºç¡€æ¶æ„
- [x] é…ç½®å…¨å±€åˆ†é¡µå’Œè¿‡æ»¤åŠŸèƒ½
- [x] å®Œå–„æƒé™æ§åˆ¶ç³»ç»Ÿ
- [x] æ·»åŠ å‰ç«¯è·¯ç”±å’Œç»„ä»¶

### ğŸ“ å®Œæˆæƒ…å†µ
- åç«¯æ¶æ„æ­å»º
  - æ–°å¢ `subject` åº”ç”¨å¹¶æ³¨å†Œåˆ° `INSTALLED_APPS`
  - é…ç½®åª’ä½“æ–‡ä»¶å­˜å‚¨è·¯å¾„
  - æ·»åŠ  `subject` çš„ URL è·¯ç”±
  - ä»£ç ä½ç½®ï¼š`backend/CodeCollab/settings.py` å’Œ `backend/CodeCollab/urls.py`
- å…¨å±€åŠŸèƒ½é…ç½®
  - é…ç½®åˆ†é¡µç±»ï¼š`PageNumberPagination`
  - é…ç½®è¿‡æ»¤åç«¯ï¼š`DjangoFilterBackend`ã€`SearchFilter`ã€`OrderingFilter`
  - é…ç½®å¼‚å¸¸å¤„ç†å™¨ï¼š`custom_exception_handler`
  - ä»£ç ä½ç½®ï¼š`backend/CodeCollab/settings.py`
- æƒé™ç³»ç»Ÿå®Œå–„
  - æ–°å¢ `IsTeacherOrAdmin` æƒé™ç±»
  - ä»£ç ä½ç½®ï¼š`backend/accounts/permissions.py`
- å‰ç«¯è·¯ç”±é…ç½®
  - æ·»åŠ è¯¾é¢˜ç®¡ç†ç›¸å…³è·¯ç”±
  - é…ç½®æƒé™æ§åˆ¶
  - ä»£ç ä½ç½®ï¼š`frontend/src/router/index.ts`

### â— é‡åˆ°çš„é—®é¢˜
- **é—®é¢˜æè¿°**ï¼š
  1. åª’ä½“æ–‡ä»¶æœåŠ¡é…ç½®é—®é¢˜
  2. æƒé™ç±»å¤ç”¨é—®é¢˜
- **è§£å†³æ–¹æ¡ˆ**ï¼š
  1. åœ¨ `urls.py` ä¸­æ·»åŠ å¼€å‘ç¯å¢ƒä¸‹çš„åª’ä½“æ–‡ä»¶æœåŠ¡é…ç½®
  2. åˆ›å»ºæ–°çš„æƒé™ç±» `IsTeacherOrAdmin` ä»¥æ”¯æŒæ•™å¸ˆå’Œç®¡ç†å‘˜çš„å…±åŒæ“ä½œ
- **å…³è”è®°å½•**ï¼š
  - æäº¤è®°å½•ï¼š`feat: æ·»åŠ è¯¾é¢˜ç®¡ç†æ¨¡å—åŸºç¡€æ¶æ„`

### ğŸŒ± æ˜æ—¥è®¡åˆ’
- [ ] å®Œæˆè¯¾é¢˜çš„ CRUD åŠŸèƒ½
- [ ] å®ç°è¯¾é¢˜çš„å®¡æ ¸æµç¨‹
- [ ] ç¼–å†™å¯¹åº”çš„æµ‹è¯•ç”¨ä¾‹
- [ ] å®Œå–„å‰ç«¯ç•Œé¢

### ğŸ“Œ ä¸´æ—¶ç¬”è®°
```python
# åª’ä½“æ–‡ä»¶é…ç½®
MEDIA_URL = '/media/'
MEDIA_ROOT = os.path.join(BASE_DIR, 'media')

# æƒé™ç±»ç¤ºä¾‹
class IsTeacherOrAdmin(permissions.BasePermission):
    def has_permission(self, request, view):
        return request.user.is_authenticated and (
            request.user.role == "TEACHER" or
            request.user.role == "ADMIN" or
            request.user.is_staff
        )
```
