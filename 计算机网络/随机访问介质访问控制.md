# ALOHA协议
## 纯ALOHA协议
- 各个站点自由（准备好了就发）发送帧，一段时间内未收到ACK==则随机等待一段时间后重发==
## 时隙ALOHA协议
- 各个站点在==最近一个时隙开始时==把帧发送到信道上，一段时间内未收到ACK==则随机等待一段时间后在时隙的开始重发==
# CSMA协议
- ==发送数据前，监听信道是否空闲，空闲时尝试发送==
## 1-坚持CSMA协议
- 监听时发现不空闲则==持续监听直到空闲==
- 监听时发现空闲则==立即发送==
- 传输不成功后随机等待一段时间后尝试重传
## 非坚持CSMA协议
- 监听时发现不空闲则==随机推迟一段时间监听==
- 监听时发现空闲则==立即发送==
- 传输不成功后随机等待一段时间后尝试重传
## p-坚持CSMA协议
- 监听时发现不空闲则==持续监听直到空闲==
- 监听时发现空闲则==以p的概率发送、1-p概率推迟一段时间后再监听尝试发送==
- 传输不成功后随机等待一段时间后尝试重传
# CSMA/CD协议
- **Carrier Sense Multiple Access with Collision Detection**载波监听多点访问/碰撞检测
- 用于早期的有线以太网（总线型）
- 协议要点：
	- 先听后发：持续监听，空闲就发。
	- 边听边发：发送的时候持续监听。
	- 冲突停发：发送时监听到冲突则停发。
	- 随机重发：随机等待一段时间后重新发送。
		- **截断二进制指数退避算法**
			- 随机等待的时间 = r 倍的==争用期==，其中 r 是随机数。
				1. 如果$k\leq 10$，则在$[0,(2^k-1)]$内随机取一个整数 r。
				2. 如果$k\gt 10$，则在$[0,(2^{10}-1)]$内随机取一个整数 r。
			- 如果发生到了第16次冲突，放弃发送，向网络层报告。
- 争用期
	- 一个站点开始发送数据后，最多经过时间 **2τ**(两倍的端-端传播时延)就可知道是否发生了碰撞。
	- 如果经过争用期还没有检测到碰撞，就可以肯定这次发送不会发生碰撞。
	- 以太网的争用期长度
		- 长度：51.2us
		- 对于 **10 Mb/s** 以太网，在争用期内可发送**512 bit**，即**64** 字节，据此规定以太网帧长**≥ 64** 字节，长度小于 **64** 字节的帧为无效帧。
		- 以太网最大帧长：**1518B**
	- CSMA/CD用于有线网络，认为其误码率很小，因此无ACK机制，若发送过程没检测到冲突，就认为该帧发送成功。
# CSMA/CA协议
- **Carrier Sense Multiple Access with Collision Avoidance**载波监听多点访问/碰撞避免
- 要点
	- 发送方：先听后发，忙则退避
		- 若空闲，**间隔DIFS**后，再发送，发送时无需检测冲突。
		- 若不空闲，随机退避
			1. 用二进制指数退避算法计算退避时间
			2. 发送方监听信道，只有在空闲时才启动退避时间计时器，忙碌则暂停计时，倒计时结束后立即发送帧。
	- 接收方：停止等待协议
		- 每一个正确的帧都返回ACK帧；若发送方超时，则随机退避。
- 信道预约机制（解决隐蔽站问题）
	- 发送方广播RTS(Request To Send)控制帧（先听后发，忙则退避）
	- AP广播CTS(Clear To Send)控制帧
	- 其他无关节点收到CTS帧后自觉闭麦，发送方收到CTS后就可以发送数据帧。
- 关于帧间间隔IFS
	- DIFS：最长，每次帧事务开始前都需要等待这么久
	- SIFS：最短，收到帧之后留给处理的时间
	- PIFS：中等长度。